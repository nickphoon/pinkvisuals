<!DOCTYPE html>
<html>

<head>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <title>Sorting Algorithm</title>
  <!-- CSS FILE -->
  <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>

<body>
  <nav class="navbar navbar-dark bg-dark">
    <a class="navbar-brand" href="home.html">Home</a>
    <h1 style="font-family: Monospace;">Sorting Algorithm</h1>
    <div class="dropdown show">
      <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        Sort Algorithms
      </a>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
        <a class="dropdown-item" href="#" onclick="setSortAlgorithm('bubble')">Bubble Sort</a>
        <a class="dropdown-item" href="#" onclick="setSortAlgorithm('selection')">Selection Sort</a>
        <a class="dropdown-item" href="#" onclick="setSortAlgorithm('insertion')">Insertion Sort</a>
        <a class="dropdown-item" href="#" onclick="setSortAlgorithm('merge')">Merge Sort</a>
        <a class="dropdown-item" href="#" onclick="setSortAlgorithm('quick')">Quick Sort</a>
      </div>
    </div>
  </nav>

  <header>
    <h2 id="sortName" style="text-align: center;">Bubble Sort</h2>
    <div style="text-align:center">
      <button id="comparisonButton" class="btn btn-secondary" onclick="compare()" hidden>Compare and Visualize</button>
    </div>

    <div id="legend" style="text-align: center; display: flex; justify-content: center;">
      <div style="display: flex; align-items: center;">
        <div style="width: 15px; height: 15px; background-color: rgba(255, 255, 0, 0.8); margin-right: 5px;"></div>
        <span>Current Selection</span>
      </div>

      <div style="display: flex; align-items: center; margin-left: 10px;">
        <div style="width: 15px; height: 15px; background-color: rgba(0, 255, 0, 0.8); margin-right: 5px;"></div>
        <span>Sorted</span>
      </div>
    </div>
  </header>


  <div class="chart-container">
    <canvas id="chart"></canvas>
  </div>
  <div class="button-container">
    <div class="d-flex justify-content-center mb-3">
      <div class="mr-3">
        <button id="randomizeButton" class="btn btn-secondary" onclick="randomizeData()" hidden>Randomize Data</button>
      </div>
      <div class="dropdown mr-2">
        <button class="btn btn-secondary dropdown-toggle" hidden type="button" id="sortDropdownButton"
          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Sort Data
        </button>
        <div class="dropdown-menu" aria-labelledby="sortDropdownButton">
          <a class="dropdown-item" href="#" onclick="defaultSort('ascending')">Ascending</a>
          <a class="dropdown-item" href="#" onclick="defaultSort('descending')">Descending</a>
        </div>
      </div>
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="quantityButton"
          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Quantity
        </button>
        <div class="dropdown-menu" aria-labelledby="quantityButton">
          <a class="dropdown-item" href="#" onclick="dataQuantity(10)">10</a>
          <a class="dropdown-item" href="#" onclick="dataQuantity(20)">20</a>
          <a class="dropdown-item" href="#" onclick="dataQuantity(50)">50</a>
          <a class="dropdown-item" href="#" onclick="dataQuantity(100)">100</a>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-center flex-wrap mb-3">
      <div>
        <button id="start-btn" class="btn btn-success" onclick="startVisualization(data)">Start Sorting</button>
        <button id="pause-btn" class="btn btn-danger" onclick="pauseVisualization()">Pause Sorting</button>
      </div>
    </div>

    <div class="d-flex justify-content-center mb-3">
      <div class="slidecontainer">
        <input type="range" min="0.0001" max="100" value="50" class="slider" id="myRange">
      </div>
    </div>
      
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="js/sort.js"></script>
  <script>
    
    let chart;
    let data = [...Array(100)].map(() => Math.floor(Math.random() * 1000));
    let sortAlgorithm = 'bubble';
    let colors = Array(data.length).fill('rgba(0, 0, 0, 0.8)'); // Declare colors array outside of the function
    let currentIteration = 0;
    let currentSelectionIteration = 0;

    displayChart();
  </script>

  <!-- Add Bootstrap JS and jQuery -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

</body>

</html>